<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Gemeente Amsterdam | Airbnb Dashboard</title>

  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/styles.css?v=4.0">

  <!-- Fonts CSS -->
  <link rel="stylesheet" href="fonts/font.css?v=1.0">

  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">

  <!-- Sortable tables -->
  <script src="js/sorttable.js"></script>

  <!-- D3 -->
  <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>

  <!-- Set view -->
  <script charset="utf-8"> var view = "duplicates"; </script>
</head>

<body>

  <div id="wrapper">

    <!-- Sidebar -->
    <div id="sidebar-wrapper">
        <ul class="sidebar-nav">
            <li class="sidebar-brand">
                <img class="logo" src="img/logo.png" alt="Gemeente Amsterdam logo" />
            </li>
            <hr>
            <li>
                <a href="dashboard.html"><i class="material-icons">dashboard</i>Dashboard</a>
            </li>
            <li>
                <a href="neighbourhoods.html"><i class="material-icons">pin_drop</i>Neighbourhoods</a>
            </li>
            <li>
                <a href="duplicates.html" class="current"><i class="material-icons">people</i>Duplicates</a>
            </li>
            <hr>
            <li>
                <a href="" data-toggle="modal" data-target="#helpModal"><i class="material-icons">help</i>More info</a>
            </li>
            <li>
                <a href="index.html"><i class="material-icons">directions_run</i>Log out</a>
            </li>
        </ul>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
              <div class="col-sm-6">
                <div class="databox">
                  <h2>Unresolved duplicates</h2>

                  <table id="duplicates" class="table table-sm table-big sortable" cellspacing="0" width="100%">
                    <thead>
                      <tr>
                        <th class="th-sm">
                          <span class="base-sort"><i class="material-icons"> unfold_more </i></span>
                        </th>
                        <th class="th-sm">
                          score
                          <span class="base-sort"><i class="material-icons"> unfold_more </i></span>
                        </th>
                        <th class="th-sm">
                          listing ID
                          <span class="base-sort"><i class="material-icons"> unfold_more </i></span>
                        </th>
                        <th class="th-sm">
                          listing ID
                          <span class="base-sort"><i class="material-icons"> unfold_more </i></span>
                        </th>
                        <th class="th-sm action-buttons sorttable_nosort">

                        </th>
                      </tr>
                    </thead>
                    <tbody>
                    </tbody>
                  </table>

                </div>
              </div>
              <div class="col-sm-6">
                <div id="dashboard-overview-stats" class="databox" style="height: unset;">
                  <h2>Stats <a href="" data-toggle="modal" data-target="#statusModal"><i class="material-icons">info</i></a></h2>

                  <svg id="donut-chart"></svg>
                  <p style="margin-top: 50px;">
                    <i style="color:#e3e3e3" class="material-icons">label</i>
                    <span id="unresolved"></span> unresolved duplicates
                  </p>
                  <p>
                    <i style="color:#2ecc71" class="material-icons">label</i>
                    <span id="match"></span> marked as correct match
                  </p>
                  <p>
                    <i style="color:#ff6b6b" class="material-icons">label</i>
                    <span id="no-match"></span> marked as wrong match
                  </p>
                  <p>
                    <i style="color:#feca57" class="material-icons">label</i>
                    <span id="unsolvable"></span> marked as unsolvable
                  </p>
                  <a class="databox-link" href="#">View all resolved duplicates <i class="material-icons">keyboard_arrow_right</i></a>
                </div>
              </div>
            </div>
        </div>


    </div>
    <!-- /#page-content-wrapper -->

  </div>
  <!-- /#wrapper -->

  <!-- Modal -->
  <div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">General info</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Welcome to this dashboard. By analyzing publicly available information about the Airbnb's listings in Amsterdam, this dashboard supports the investigation of fraudulent Airbnb acitivy in the city of Amsterdam.</p>
          <p>The goal of this dashboard is to aid the investigation of duplicate listings and support policy making regarding Airbnb.</p>
          <p>The sidebar on the left contains the main menu. The <b>'Dashboard'</b> shows a general overview of the data and all neighbourhoods. Furthermore, the <b>'Neighbourhoods'</b> view focuses on the key statistics per neighbourhood, which can support policy making. Lastly, the <b>'Duplicates'</b> view, focuses on the duplicate listings found in Amsterdam. This view enables the user to evaluate and assign duplicates. By doing this, listings that violate regulations can be identified.</p>
        </div>
        <div class="modal-footer action-buttons">
          <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="statusModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">What does the status of a duplicate mean?</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Each duplicate has a status, this can either be:</p>
          <ul>
            <li><b>Unresolved</b>: The duplicate is new and not yet assessed by a human.</li>
            <li><b>Correct match</b>: Both listings concern the same property and the estimated number of bookings should be added together.</li>
            <li><b>Wrong match</b>: Despite the high matching score, the listings concern a different property and are, therefore, not duplicate.</li>
            <li><b>Unsolvable</b>: It is not clear whether these two listings concern the same property, therefore, this duplicate is unresolvable.</li>
          </ul>

          <p>The status of a duplicate can be controlled by the user and this feedback is used as input to improve the algorithm that identifies and assesses the duplicates (using a semi-supervised machine learning algorithm).</p>

        </div>
        <div class="modal-footer action-buttons">
          <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


  <!-- jQuery -->
  <script src="js/jquery-3.1.1.min.js?v=2.0"></script>

  <!-- Bootstrap -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

  <!-- Data -->
  <script type="text/javascript" src="data/duplicates.js"></script>
  <script type="text/javascript" src="data/listingsFromCsv.js"></script>

  <!-- Custom js -->
  <script src="js/scripts.js"></script>
</body>
</html>